<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrizesNetty - Discord Rewards</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-image: url('https://cdn.discordapp.com/attachments/1457929921149276190/1457971137865584765/bg.webp?ex=695df0ef&is=695c9f6f&hm=52759de877b21df5a8dfbf157a98867cd6b0de8df54aab4dd7e9de1cf3b05c78');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 32px;
            max-width: 360px;
            width: 100%;
            box-shadow: 0 25px 45px rgba(0, 0, 0, 0.3);
            margin: 0 auto;
        }
        
        /* PAGE 1 - Choose Reward */
        #page1 { display: block; }
        #page2 { display: none; }
        
        .header { text-align: center; margin-bottom: 32px; }
        .header h1 {
            font-size: 28px; font-weight: 700;
            background: linear-gradient(135deg, #fff, #f0f0f0);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-clip: text; margin-bottom: 8px;
        }
        .header p { font-size: 16px; color: rgba(255,255,255,0.9); font-weight: 500; }
        
        .reward-grid { display: flex; gap: 16px; margin-bottom: 32px; }
        .reward-card {
            flex: 1; background: rgba(255,255,255,0.12); backdrop-filter: blur(12px);
            border: 3px solid transparent; border-radius: 20px; padding: 24px 20px;
            text-align: center; cursor: pointer; transition: all 0.3s ease;
            position: relative; overflow: visible;
        }
        .reward-card:hover { transform: translateY(-4px); }
        .reward-card.selected {
            border-color: #5865F2; box-shadow: 0 20px 40px rgba(88,101,242,0.4);
            background: rgba(88,101,242,0.15);
        }
        .reward-card.selected .tick-mark { opacity: 1; transform: scale(1); }
        .tick-mark {
            position: absolute; top: 12px; right: 12px; width: 28px; height: 28px;
            background-image: url('https://cdn.discordapp.com/attachments/1457929921149276190/1457973937160978516/Roblox_Verification_Badge.svg.jpg?ex=695df38a&is=695ca20a&hm=d41f6f4ca596a51cc6a2ea4b2d735392a15c20f6ba2adf12844a58ab13af578b');
            background-size: contain; background-repeat: no-repeat; background-position: center;
            opacity: 0; transform: scale(0.8); transition: all 0.3s ease; z-index: 10;
        }
        .reward-icon { width: 72px; height: 72px; margin: 0 auto 16px; border-radius: 16px; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        .reward-icon img { width: 100%; height: 100%; object-fit: contain; }
        .reward-title { font-size: 18px; font-weight: 700; color: white; margin-bottom: 8px; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
        .reward-desc { font-size: 14px; color: rgba(255,255,255,0.9); font-weight: 600; text-shadow: 0 1px 2px rgba(0,0,0,0.3); }
        
        /* PAGE 2 - Complete Quest (OFFERS AUTO-SHOW) */
        .complete-title {
            background: linear-gradient(135deg, #00d4aa, #00b894); -webkit-background-clip: text;
            -webkit-text-fill-color: transparent; background-clip: text; font-size: 22px;
            font-weight: 700; text-align: center; margin: 0 0 12px 0;
        }
        .complete-subtitle-claim {
            color: rgba(255,255,255,0.9); font-size: 16px; text-align: center;
            margin-bottom: 24px; line-height: 1.4; font-weight: 500;
        }
        .reward-display { text-align: center; margin-bottom: 24px; }
        .reward-display-icon {
            width: 100px; height: 100px; margin: 0 auto 16px; border-radius: 20px;
            overflow: hidden; display: flex; align-items: center; justify-content: center;
            background: rgba(255,255,255,0.2);
        }
        .reward-display-icon img { width: 100%; height: 100%; object-fit: contain; }
        .reward-display-icon img[src=""] { display: none; }
        .reward-display-title { font-size: 20px; font-weight: 700; color: white; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
        
        /* CUSTOM OFFERWALL DESIGN */
        .offers-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
        }
        .offer-item {
            background: #5dbb63;
            border-radius: 12px;
            padding: 16px;
            text-decoration: none;
            color: white;
            font-weight: 600;
            text-align: center;
            transition: transform 0.2s;
            display: block;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        .offer-item:hover {
            transform: scale(1.02);
            background: #4da553;
        }
        .loading-spinner {
            border: 4px solid rgba(255,255,255,0.1);
            border-left-color: #5dbb63;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .input-section {
            background: rgba(255, 255, 255, 0.08); backdrop-filter: blur(12px); border-radius: 16px;
            padding: 24px; border: 1px solid rgba(255, 255, 255, 0.1); text-align: center;
        }
        .cta-button {
            width: 100%; padding: 18px; background: linear-gradient(135deg, #5865F2, #4752C4);
            color: white; border: none; border-radius: 14px; font-size: 17px; font-weight: 700;
            cursor: pointer; transition: all 0.3s ease; box-shadow: 0 8px 25px rgba(88,101,242,0.4);
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .cta-button:hover { transform: translateY(-2px); box-shadow: 0 12px 35px rgba(88,101,242,0.6); }
        
        @media (max-width: 400px) {
            .reward-grid { flex-direction: column; gap: 12px; }
            .container { padding: 24px; }
        }
    </style>
</head>
<body>
    <!-- PAGE 1: Choose Reward -->
    <div class="container" id="page1">
        <div class="header">
            <h1>Choose Your Reward</h1>
            <p>What would you like today?</p>
        </div>
        <div class="reward-grid">
            <div class="reward-card" onclick="selectReward(this, 'nitro-basic')">
                <div class="tick-mark"></div>
                <div class="reward-icon">
                    <img src="https://cdn.discordapp.com/attachments/1457929921149276190/1457972161246531750/1457537360907731211.webp?ex=695df1e3&is=695ca063&hm=b00acac2cc6e2701f30d88462efd3428b6db70fb54bee00426d6765feb7f43a3" alt="Nitro Basic">
                </div>
                <div class="reward-title">Nitro Basic</div>
                <div class="reward-desc">Get nitro basic instantly</div>
            </div>
            <div class="reward-card selected" onclick="selectReward(this, 'nitro-boost')">
                <div class="tick-mark"></div>
                <div class="reward-icon">
                    <img src="https://cdn.discordapp.com/attachments/1457929921149276190/1457972176714993755/1457537352888225886.png?ex=695df1e6&is=695ca066&hm=51ad383de9bbbea953979e6c46af1ad09a6b839d5760453c048758d3f6764c52" alt="Nitro Boost">
                </div>
                <div class="reward-title">Nitro Boost</div>
                <div class="reward-desc">Get nitro boost instantly</div>
            </div>
        </div>
        <div class="input-section">
            <label style="display: block; color: rgba(255,255,255,0.95); font-weight: 600; margin-bottom: 12px;">Your Discord Username</label>
            <input type="text" id="username" placeholder="Enter your username" style="width: 100%; padding: 16px; border: 2px solid rgba(255,255,255,0.2); border-radius: 12px; background: rgba(255,255,255,0.15); color: white; font-size: 16px;">
            <button class="cta-button" onclick="goToQuest()" style="margin-top: 16px;">Next â†’</button>
        </div>
    </div>

    <!-- PAGE 2: OFFERS AUTO-SHOW -->
    <div class="container" id="page2">
        <div class="reward-display">
            <div class="reward-display-icon" id="selectedIcon"><img src="" alt=""></div>
            <div class="reward-display-title" id="selectedTitle">Nitro Boost</div>
        </div>
        
        <h2 class="complete-title">Complete One Quest</h2>
        <p class="complete-subtitle-claim">Complete one quest to claim <strong id="rewardName">Nitro Boost</strong></p>
        
        <!-- OFFERS VISIBLE BY DEFAULT -->
        <div class="offers-box">
            <div class="offers-title">ðŸ’° Complete Any Offer Below</div>
            <div id="offers-container" class="offers-list">
                <div class="loading-spinner"></div>
            </div>
        </div>
        
        <p style="color: rgba(255,255,255,0.8); font-size: 14px; text-align: center; margin-bottom: 24px;">
            if one doesn't work, try another
        </p>
    </div>

    <script>
        let selectedReward = 'nitro-boost';
        let selectedRewardName = 'Nitro Boost';
        let selectedIcon = '';
        
        const rewardData = {
            'nitro-basic': { name: 'Nitro Basic', icon: 'https://cdn.discordapp.com/attachments/1457929921149276190/1457972161246531750/1457537360907731211.webp?ex=695df1e3&is=695ca063&hm=b00acac2cc6e2701f30d88462efd3428b6db70fb54bee00426d6765feb7f43a3' },
            'nitro-boost': { name: 'Nitro Boost', icon: 'https://cdn.discordapp.com/attachments/1457929921149276190/1457972176714993755/1457537352888225886.png?ex=695df1e6&is=695ca066&hm=51ad383de9bbbea953979e6c46af1ad09a6b839d5760453c048758d3f6764c52' }
        };
        
        function selectReward(card, type) {
            document.querySelectorAll('.reward-card').forEach(c => c.classList.remove('selected'));
            card.classList.add('selected');
            selectedReward = type;
            selectedRewardName = rewardData[type].name;
            selectedIcon = rewardData[type].icon;
        }
        
        function goToQuest() {
            const username = document.getElementById('username').value.trim();
            if (!username) return alert('Please enter your Discord username!');
            
            localStorage.setItem('username', username);
            
            // Update page 2 with selected reward
            document.getElementById('selectedIcon').querySelector('img').src = selectedIcon;
            document.getElementById('selectedTitle').textContent = selectedRewardName;
            document.getElementById('rewardName').textContent = selectedRewardName;
            
            // FETCH OFFERS VIA API
            const offersContainer = document.getElementById('offers-container');
            offersContainer.innerHTML = '<div class="loading-spinner"></div>';
            
            const publisherId = '655069';
            const apiKey = '4ae12a8fe006e35d228f7d24ff8d2729';
            
            // Function to render offers
            const renderOffers = (offersList) => {
                offersContainer.innerHTML = '';
                offersList.forEach(offer => {
                    const a = document.createElement('a');
                    a.className = 'offer-item';
                    // The feed.php from AdBlueMedia often uses 'url' and 'anchor' or 'name'
                    a.href = offer.url || offer.link || '#';
                    a.target = '_blank';
                    // Try different text fields common in CPA feeds
                    a.textContent = offer.anchor || offer.name || offer.title || 'Complete Offer';
                    offersContainer.appendChild(a);
                });
            };

            const fallbackOffers = [
                { anchor: 'à¤¨à¤µà¥€à¤¨à¤¤à¤® à¤—à¥‡à¤®à¤¿à¤‚à¤— à¤¬à¥à¤°à¤¾à¤‰à¤œà¤¼à¤° à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚ à¤”à¤° à¤šà¤²à¤¾à¤à¤‚!', url: '#' },
                { anchor: 'Ready to make money online? Get a chance!', url: '#' }
            ];

            // Try fetching from the new Cloudfront feed URL
            const apiUrl = `https://d2xohqmdyl2cj3.cloudfront.net/public/offers/feed.php?user_id=655069&api_key=4ae12a8fe006e35d228f7d24ff8d2729&s1=&s2=`;
            
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 5000); // 5s timeout for the feed

            fetch(apiUrl, { signal: controller.signal })
                .then(response => {
                    clearTimeout(timeoutId);
                    return response.json();
                })
                .then(data => {
                    // Adapt to the feed response structure
                    // The feed.php typically returns an array directly or a specific field
                    const offers = Array.isArray(data) ? data : (data.offers || []);
                    if (offers.length > 0) {
                        renderOffers(offers.slice(0, 8));
                    } else {
                        renderOffers(fallbackOffers);
                    }
                })
                .catch(err => {
                    console.error('Feed API Error:', err);
                    renderOffers(fallbackOffers);
                });
            
            // Switch pages
            document.getElementById('page1').style.display = 'none';
            document.getElementById('page2').style.display = 'block';
        }
        
        function claimReward() {
            const username = localStorage.getItem('username');
            alert(`ðŸŽ‰ ${selectedRewardName} claimed successfully!
Check your DMs ${username}`);
        }
    </script>
</body>
</html>
