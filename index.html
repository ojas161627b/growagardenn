<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reward Selection</title>
<style>
  body {
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(to bottom, #4ecfff, #a6f0ff);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: Arial, sans-serif;
    padding: 20px;
    box-sizing: border-box;
  }

  /* STEP 1 */
  .reward-box {
    width: 90%;
    max-width: 500px;
    aspect-ratio: 16 / 9;
    border: 6px solid black;
    border-radius: 15px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.5);
    text-align: center;
    background: url("https://i.postimg.cc/q74Bdd5N/New-Project-1-6.png") no-repeat center center;
    background-size: cover;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 20px;
  }

  .rewards {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 55px 0 27.5px 0;
  }

  .reward-item {
    position: relative;
    display: inline-block;
  }

  .reward-item img.reward {
    width: 60px;
    height: 60px;
    cursor: pointer;
    transition: transform 0.3s ease;
    animation: floatZoom 3s ease-in-out infinite;
  }

  .reward-item.selected img.reward {
    transform: scale(1.2);
  }

  .tick {
    position: absolute;
    top: -8px;
    right: -8px;
    width: 32px;
    height: 32px;
    display: none;
    z-index: 5;
    pointer-events: none;
  }

  .reward-item.selected .tick {
    display: block;
    animation: popIn 0.3s ease;
  }

  @keyframes popIn {
    0%   { transform: scale(0); opacity: 0; }
    70%  { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(1); }
  }

  @keyframes floatZoom {
    0%   { transform: scale(1); }
    50%  { transform: scale(1.15); }
    100% { transform: scale(1); }
  }

  #username-form {
    display: none;
    justify-content: center;
    gap: 10px;
    margin-top: 10px;
  }

  #roblox-username {
    padding: 10px 15px;
    font-size: 16px;
    border: 2px solid black;
    border-radius: 6px;
    background-color: rgba(0,0,0,0.3);
    color: white;
    font-weight: bold;
    outline: none;
    width: 200px;
  }

  #next-btn {
    padding: 10px 20px;
    font-size: 16px;
    border: 2px solid black;
    border-radius: 6px;
    background-color: rgba(0,128,0,0.8);
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.1s ease;
  }

  #next-btn:active { transform: translateY(2px); }

  .fullpage{display:none;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:24px;text-align:center;}
  .fullpage.show{display:flex;}
  .shell{background:#fff;border-radius:20px;padding:26px;box-shadow:0 6px 15px rgba(0,0,0,0.3);max-width:420px;}

  .progress-wrap{margin-top:14px;width:100%;}
  .progress-bar{height:22px;background:#eef2f4;border-radius:18px;overflow:hidden;}
  .progress-inner{height:100%;width:0;background:linear-gradient(90deg,#10b981,#059669);display:flex;align-items:center;justify-content:center;color:white;font-weight:800;transition:width 1.2s ease;}
  .muted{color:#6b7280;font-size:15px;margin-top:10px}

  .btn{padding:14px 20px;border-radius:12px;border:0;font-weight:800;font-size:16px;cursor:pointer;box-shadow:0 6px 15px rgba(0,0,0,0.3);}
  .btn.primary{background:linear-gradient(90deg,#10b981,#059669);color:#fff;}
  .btn.secondary{background:#e5e7eb;color:#111827;}

  .subtitle {
    font-size: 16px;
    font-weight: bold;
    color: #0ea5e9;
    margin: 10px 0;
  }

  .headline {
    font-size: 24px;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #111;
    font-family: 'Arial Black', 'Impact', sans-serif;
    margin-bottom: 15px;
  }

  @keyframes floatZoomStep2 {
    0%   { transform: scale(1); }
    50%  { transform: scale(1.1); }
    100% { transform: scale(1); }
  }
  @keyframes pulseText {
    0%, 100% { transform: scale(1); color:#111; }
    50%      { transform: scale(1.05); color:#059669; }
  }
  #confirmPage.show .shell { animation: fadeIn 0.8s ease; }
  @keyframes fadeIn {
    from { opacity:0; transform: scale(0.95); }
    to   { opacity:1; }
  }
  #confirmRewardImg { animation: floatZoomStep2 3s ease-in-out infinite; }
  #confirmUsername { animation: pulseText 2s ease-in-out infinite; }
</style>
</head>
<body>

<!-- STEP 1 -->
<div class="reward-box" id="step1">
  <div class="rewards">
    <div class="reward-item">
      <img class="tick" src="https://cdn.discordapp.com/attachments/1403292084466618409/1409777944993468447/Z4l-Sinf-Check-Mark-Outline-256-1-1.png?ex=68ae9d86&is=68ad4c06&hm=370f66a46b29803cd6a2cb3ef2e23f2ec6b9432c153230b8363cc1586c764c63&">
      <img class="reward" src="https://cdn.discordapp.com/emojis/1401567022713929850.png?v=1" alt="Dragon Fly">
    </div>
    <div class="reward-item">
      <img class="tick" src="https://cdn.discordapp.com/attachments/1403292084466618409/1409777944993468447/Z4l-Sinf-Check-Mark-Outline-256-1-1.png?ex=68ae9d86&is=68ad4c06&hm=370f66a46b29803cd6a2cb3ef2e23f2ec6b9432c153230b8363cc1586c764c63&">
      <img class="reward" src="https://cdn.discordapp.com/emojis/1401566939871969361.png?v=1" alt="Queen Bee">
    </div>
    <div class="reward-item">
      <img class="tick" src="https://cdn.discordapp.com/attachments/1403292084466618409/1409777944993468447/Z4l-Sinf-Check-Mark-Outline-256-1-1.png?ex=68ae9d86&is=68ad4c06&hm=370f66a46b29803cd6a2cb3ef2e23f2ec6b9432c153230b8363cc1586c764c63&">
      <img class="reward" src="https://cdn.discordapp.com/emojis/1396588954106724373.png?v=1" alt="Raccoon">
    </div>
    <div class="reward-item">
      <img class="tick" src="https://cdn.discordapp.com/attachments/1403292084466618409/1409777944993468447/Z4l-Sinf-Check-Mark-Outline-256-1-1.png?ex=68ae9d86&is=68ad4c06&hm=370f66a46b29803cd6a2cb3ef2e23f2ec6b9432c153230b8363cc1586c764c63&">
      <img class="reward" src="https://cdn.discordapp.com/emojis/1401566947098759259.png?v=1" alt="Kitsune">
    </div>
  </div>
  <div id="username-form">
    <input type="text" id="roblox-username" placeholder="Roblox Username">
    <button id="next-btn">Next</button>
  </div>
</div>

<!-- STEP 2: Confirm -->
<div id="confirmPage" class="fullpage">
  <div class="shell">
    <div class="headline">Confirm your details</div>
    <div class="subtitle">Prize Selected:</div>
    <img id="confirmRewardImg" src="" alt="Selected Reward" style="width:80px;height:80px;">
    
    <div class="subtitle">Roblox Username:</div>
    <div id="confirmUsername" style="font-weight:700;font-size:18px;color:#111;"></div>

    <div style="margin-top:20px;display:flex;gap:14px;justify-content:center;">
      <button id="noBtn" class="btn secondary">No</button>
      <button id="yesBtn" class="btn primary">Yes, Continue</button>
    </div>
  </div>
</div>

<!-- STEP 3: Processing -->
<div id="processingPage" class="fullpage">
  <div>
    <div style="font-size:22px;font-weight:800;">Processing your request...</div>
    <div class="progress-wrap">
      <div class="progress-bar">
        <div class="progress-inner" id="progressInner">0%</div>
      </div>
      <div class="muted">Please wait while we prepare your rewards...</div>
    </div>
  </div>
</div>

<!-- STEP 4: Requesting -->
<div id="requestingPage" class="fullpage">
  <div class="shell" style="text-align:center;">
    <div style="font-size:18px;color:#6b7280;margin-bottom:8px">
      Requesting <span style="font-weight:900;color:#059669" id="finalPrize">Prize</span> for:
    </div>
    
    <div style="display:flex;align-items:center;justify-content:center;gap:8px;font-weight:900;color:#d97706">
      <img src="https://cdn.discordapp.com/attachments/1403292084466618409/1409777972126421145/noFilter.webp?ex=68ae9d8c&is=68ad4c0c&hm=c74987a9dd627b5f5dd558c818a41b1a73fc782f7bd5a005a12478212cefa3e4&" 
           alt="User Icon" style="width:28px;height:28px;border-radius:50%;">
      <span id="finalAt">@name</span>
    </div>

    <div style="margin:15px 0;font-weight:800;color:#00CCFF;">Click button below to claim your PET!</div>
    <button id="claimBtn" class="btn primary">Claim Your Reward!</button>
  </div>
</div>

<script>
  const rewardItems = document.querySelectorAll('.reward-item');
  let selectedReward = null;
  let selectedRewardSrc = "";

  rewardItems.forEach(item => {
    const img = item.querySelector('.reward');
    img.addEventListener('click', () => {
      if (item.classList.contains('selected')) {
        item.classList.remove('selected');
        selectedReward = null;
        selectedRewardSrc = "";
        document.getElementById('username-form').style.display = 'none';
      } else {
        rewardItems.forEach(i => i.classList.remove('selected'));
        item.classList.add('selected');
        selectedReward = img.alt;
        selectedRewardSrc = img.src;
        document.getElementById('username-form').style.display = 'flex';
      }
    });
  });

  const nextBtn = document.getElementById('next-btn');
  const usernameInput = document.getElementById('roblox-username');
  const confirmPage = document.getElementById('confirmPage');
  const confirmRewardImg = document.getElementById('confirmRewardImg');
  const confirmUsername = document.getElementById('confirmUsername');
  const noBtn = document.getElementById('noBtn');
  const yesBtn = document.getElementById('yesBtn');
  const processingPage = document.getElementById('processingPage');
  const progressInner = document.getElementById('progressInner');
  const requestingPage = document.getElementById('requestingPage');
  const finalPrizeEl = document.getElementById('finalPrize');
  const finalAtEl = document.getElementById('finalAt');
  const claimBtn = document.getElementById('claimBtn');

  nextBtn.addEventListener('click', () => {
    const username = usernameInput.value.trim();
    if (!selectedReward) return alert("Select Reward Before Continuing");
    if (!username || username.length < 3) return alert("✖️ Invalid Roblox Username.");
    document.getElementById('step1').style.display = 'none';
    confirmRewardImg.src = selectedRewardSrc;
    confirmUsername.textContent = username;
    confirmPage.classList.add('show');
  });

  noBtn.addEventListener('click', () => {
    selectedReward = null;
    usernameInput.value = '';
    confirmPage.classList.remove('show');
    document.getElementById('step1').style.display = '';
    document.getElementById('username-form').style.display = 'none';
  });

  yesBtn.addEventListener('click', async () => {
    confirmPage.classList.remove('show');
    processingPage.classList.add('show');
    await progressTo(38, 900);
    await wait(450);
    await progressTo(68, 1100);
    await wait(800);
    await progressTo(100, 900);
    await wait(500);
    processingPage.classList.remove('show');
    finalPrizeEl.textContent = selectedReward;
    const uname = usernameInput.value.trim();
    finalAtEl.textContent = '@' + uname;
    requestingPage.classList.add('show');
  });

  claimBtn.addEventListener('click', () => {
    window.open('https://verifysuper.com/cl/i/34ollm', '_blank');
  });

  function wait(ms){ return new Promise(res => setTimeout(res, ms)); }
  function progressTo(target, ms){
    return new Promise(res => {
      const startWidth = parseInt((progressInner.style.width || '0').replace('%','')) || 0;
      const diff = target - startWidth;
      const startTime = performance.now();
      function frame(now){
        const t = Math.min(1, (now - startTime)/ms);
        const cur = Math.round(startWidth + diff * t);
        progressInner.style.width = cur + '%';
        progressInner.textContent = cur + '%';
        if(t < 1) requestAnimationFrame(frame);
        else res();
      }
      requestAnimationFrame(frame);
    });
  }
</script>

</body>
</html>
